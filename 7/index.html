<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Laserpants's Changamoto</title>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML" async></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      CommonHTML: {
        scale: 96
      }
    });
  </script>
  <script type="text/javascript">
    function toggleAnswer(e) {
      e.preventDefault();
      var div = document.getElementById('answer');
      div.style.display = (div.style.display === 'block') ? 'none' : 'block';
    }
  </script>
  <link rel="stylesheet" type="text/css" href="../css/style.css" />
  <link rel="stylesheet" type="text/css" href="../css/prism.css" />
  <style type="text/css">
    table.code td {
      text-align: left;
      vertical-align: top;
      padding: 0 1em;
    }
  </style>
</head>
<body>
  <h2>Question:</h2>
  <p>
    Referential transparency is a property of a program expression which states that it always produces the same output for a given input value. Just like mathematical functions, referentially transparent expressions in a program map each value (input) in the domain to exactly one element (return value) of the codomain. Which of the following Python functions are referentially transparent? Keep in mind that referential transparency does not imply absence of side-effects.
  </p>
  <p>
    <pre><code class="language-python">def fun_1(x, y):
    return x + y

def fun_2(name):
    file = open(name, 'r')
    data = file.read()  # Read file contents to variable 'data'
    file.close()
    return data

def fun_3(x):
    launchRocket()  # Function that sends a rocket to the moon
    return x</code></pre>
  </p>
  <h3>Bonus question:</h3>
  <p>
    A function that doesnâ€™t exhibit side-effects is called <i>pure.</i> As already mentioned, referential transparency does not imply purity. But is the opposite true? That is to say; does purity imply referential transparency?
  </p>
  <p>
    <a href="#" onclick="toggleAnswer(event)">Toggle answer</a>
  </p>
  <div id="answer">
    <h3>Answer:</h3>
    <p>
    The first and the last functions are referentially transparent. 
      <blockquote>
        A function is a binary relation that associates at most one range element to any domain element.
      </blockquote>
    </p>
    <p>
    The fact that <code>fun_3</code> sends rockets to the moon doesn't change its behavior with regard to this property. It does, however, mean that <code>fun_3</code> is not <i>pure</i>. Let's think of it as an effectful <a href="https://en.wikipedia.org/wiki/Identity_function">identity function</a>. <code>fun_1</code>, on the other hand, is both referentially transparent and pure.
    </p>
    <p>
    The answer to the bonus question is yes; purity <i>does</i> imply referentially transparent. In other words, purity is a stronger guarantee than referential transparency. Thinking about it, a function that is pure behaves truly like a black box and has no way to interact with the outside world. All it can do is to act on its input. Therefore, the return value is not influenced by anything else than the arguments it is given as input.
    </p>
  </div>
  <script src="../js/prism.js"></script>
</body>
<html>
